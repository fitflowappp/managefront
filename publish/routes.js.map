{"version":3,"sources":["../src/routes.js"],"names":["requireAuth","nextState","replace","pathname","state","nextPathname","location","logined","routes"],"mappings":";;;;;;AAGA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA,SAASA,WAAT,CAAqBC,SAArB,EAAgCC,OAAhC,EAAyC;AACrC,QAAI,CAAC,qBAAL,EAAiB;AACbA,gBAAQ;AACJC,sBAAU,QADN;AAEJC,mBAAO,EAACC,cAAcJ,UAAUK,QAAV,CAAmBH,QAAlC;AAFH,SAAR;AAIH;AACJ,C,CA3BD;;;;AA4BA,SAASI,OAAT,CAAiBN,SAAjB,EAA4BC,OAA5B,EAAqC;AACjC,QAAI,qBAAJ,EAAgB;AACZA,gBAAQ;AACJC,sBAAU,YADN;AAEJC,mBAAO,EAACC,cAAcJ,UAAUK,QAAV,CAAmBH,QAAlC;AAFH,SAAR;AAIH;AACJ;;AAED;AACA;AACA;AACA;AACA,IAAMK,SACF;AAAA;AAAA,MAAO,MAAK,GAAZ,EAAgB,wBAAhB;AACI,gEAAe,IAAG,OAAlB,GADJ;AAEI,wDAAO,MAAK,OAAZ,EAAoB,0BAApB,EAAsC,MAAK,cAA3C,EAAgD,SAASD,OAAzD,GAFJ;AAGI,wDAAO,MAAK,UAAZ,EAAuB,6BAAvB,EAA4C,MAAK,UAAjD,GAHJ;AAII,wDAAO,MAAK,SAAZ,EAAsB,4BAAtB,EAA0C,MAAK,0BAA/C,EAAsD,SAASP,WAA/D,GAJJ;AAKI,wDAAO,MAAK,WAAZ,EAAwB,8BAAxB,EAA8C,MAAK,WAAnD,EAA+D,SAASA,WAAxE,GALJ;AAMI,wDAAO,MAAK,UAAZ,EAAuB,6BAAvB,EAA4C,MAAK,UAAjD,EAA4D,SAASA,WAArE,GANJ;AAOI,wDAAO,MAAK,kBAAZ,EAA+B,iCAA/B,EAAwD,MAAK,UAA7D,EAAwE,SAASA,WAAjF,GAPJ;AAQI,wDAAO,MAAK,UAAZ,EAAuB,6BAAvB,EAA4C,MAAK,UAAjD,EAA4D,SAASA,WAArE,GARJ;AASI,wDAAO,MAAK,kBAAZ,EAA+B,iCAA/B,EAAwD,MAAK,UAA7D,EAAwE,SAASA,WAAjF,GATJ;AAUI,wDAAO,MAAK,YAAZ,EAAyB,+BAAzB,EAAgD,MAAK,YAArD,EAAkE,SAASA,WAA3E,GAVJ;AAWI,wDAAO,MAAK,oBAAZ,EAAiC,mCAAjC,EAA4D,MAAK,YAAjE,EAA8E,SAASA,WAAvF,GAXJ;AAYI,wDAAO,MAAK,kBAAZ,EAA+B,qCAA/B,EAA4D,MAAK,YAAjE,EAA8E,SAASA,WAAvF,GAZJ;AAaI,wDAAO,MAAK,0BAAZ,EAAuC,yCAAvC,EAAwE,MAAK,YAA7E,EAA0F,SAASA,WAAnG,GAbJ;AAcI,wDAAO,MAAK,YAAZ,EAAyB,+BAAzB,EAAgD,MAAK,YAArD,EAAkE,SAASA,WAA3E;AAdJ,CADJ;kBAkBeQ,M","file":"routes.js","sourcesContent":["/**\r\n * Created by john on 2016/5/17.\r\n */\r\nimport React from 'react';\r\nimport {Route, IndexRedirect} from 'react-router';\r\nimport App from './containers/App'\r\nimport Login from './containers/Login'\r\nimport Register from './containers/Register'\r\nimport Account from \"./containers/Account\";\r\nimport Dashboard from \"./containers/Dashboard\";\r\nimport Routines from \"./containers/Routines\";\r\nimport RoutinesEdit from \"./containers/RoutinesEdit\";\r\nimport Workouts from \"./containers/Workouts\";\r\nimport WorkoutsEdit from \"./containers/WorkoutsEdit\";\r\nimport Challenges from \"./containers/Challenges\";\r\nimport ChallengesEdit from \"./containers/ChallengesEdit\";\r\nimport ChallengesOrders from \"./containers/ChallengesOrders\";\r\nimport ChallengesOrdersEdit from \"./containers/ChallengesOrdersEdit\";\r\nimport Milestones from \"./containers/Milestones\";\r\nimport {getMuser} from \"./common/auth\"\r\nfunction requireAuth(nextState, replace) {\r\n    if (!getMuser()) {\r\n        replace({\r\n            pathname: '/login',\r\n            state: {nextPathname: nextState.location.pathname}\r\n        })\r\n    }\r\n}\r\nfunction logined(nextState, replace) {\r\n    if (getMuser()) {\r\n        replace({\r\n            pathname: '/dashboard',\r\n            state: {nextPathname: nextState.location.pathname}\r\n        })\r\n    }\r\n}\r\n\r\n// route 规则：\r\n// - `/list` 显示 `List` 组件\r\n// - `/item/:id` 显示 `Item` 组件\r\n// 地址用小写\r\nconst routes = (\r\n    <Route path=\"/\" component={App}>\r\n        <IndexRedirect to=\"login\"/>\r\n        <Route path=\"login\" component={Login} name=\"登录\" onEnter={logined}/>\r\n        <Route path=\"register\" component={Register} name=\"Register\"/>\r\n        <Route path=\"account\" component={Account} name=\"账号管理\" onEnter={requireAuth}/>\r\n        <Route path=\"dashboard\" component={Dashboard} name=\"dashboard\" onEnter={requireAuth}/>\r\n        <Route path=\"routines\" component={Routines} name=\"routines\" onEnter={requireAuth}/>\r\n        <Route path=\"routinesedit/:id\" component={RoutinesEdit} name=\"routines\" onEnter={requireAuth}/>\r\n        <Route path=\"workouts\" component={Workouts} name=\"workouts\" onEnter={requireAuth}/>\r\n        <Route path=\"workoutsedit/:id\" component={WorkoutsEdit} name=\"workouts\" onEnter={requireAuth}/>\r\n        <Route path=\"challenges\" component={Challenges} name=\"challenges\" onEnter={requireAuth}/>\r\n        <Route path=\"challengesedit/:id\" component={ChallengesEdit} name=\"challenges\" onEnter={requireAuth}/>\r\n        <Route path=\"challengesorders\" component={ChallengesOrders} name=\"challenges\" onEnter={requireAuth}/>\r\n        <Route path=\"challengesordersedit/:id\" component={ChallengesOrdersEdit} name=\"challenges\" onEnter={requireAuth}/>\r\n        <Route path=\"milestones\" component={Milestones} name=\"milestones\" onEnter={requireAuth}/>\r\n    </Route>\r\n);\r\nexport default routes;\r\n"]}