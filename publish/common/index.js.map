{"version":3,"sources":["../../src/common/index.js"],"names":["actionFactory","reducerFactory","serializeForm","linkState","isEqual","getTime","scrollTop","isObject","isArray","resourceName","url","key","customMethod","REQUEST","toUpperCase","RECEIVE","DELETE","ERROR","CLEAN","_UPDATE","_DELETE","action_request","action_query","data","keys","list","action_receive","_key","join","d","action_delete","params","action_error","err","methods","successcb","errorcb","dispatch","type","p","Object","prototype","toString","call","m","length","new_action_receive","result","customreducer","state","action","isLoading","payload","error","_list","i","item","id","undefined","splice","content","contentList","isCreate","unshift","form","nodeName","j","q","elements","name","value","checked","options","selected","createHandler","component","path","e","el","target","setState","setIn","_linkState","cache","__linkStateHandlers","cacheKey","linkStateE","context","_path","push","linkStateV","getIn","get","set","a","b","aProps","bProps","propName","time","myDate","Date","year","getFullYear","month","getMonth","date","getDate","hour","getHours","minute","getMinutes","strTime","document","documentElement","body","obj","arr"],"mappings":"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","file":"index.js","sourcesContent":["/**\r\n * Created by john on 2016/5/19.\r\n */\r\nimport React, {Component, PropTypes} from 'react'\r\nimport {apiFactory, getAPI, postAPI, putAPI, deleteAPI} from '../common/fetch';\r\nimport {createAction, handleActions} from 'redux-actions';\r\n//get put post delete\r\nexport function actionFactory(resourceName, url, key, customMethod) {\r\n    const REQUEST = `REQUEST_${resourceName.toUpperCase()}`;\r\n    const RECEIVE = `RECEIVE_${resourceName.toUpperCase()}`;\r\n    const DELETE = `DELETE_${resourceName.toUpperCase()}`;\r\n    const ERROR = `ERROR_${resourceName.toUpperCase()}`;\r\n    const CLEAN = `CLEAN_${resourceName.toUpperCase()}`;\r\n    const _UPDATE = `_UPDATE_${resourceName.toUpperCase()}`;\r\n    const _DELETE = `_DELETE_${resourceName.toUpperCase()}`;\r\n    var action_request = createAction(REQUEST);\r\n\r\n    var action_query = createAction(RECEIVE, function (data, keys) {\r\n        return {list: data}\r\n    });\r\n    var action_receive = createAction(RECEIVE, function (data, keys) {\r\n        const _key = keys.join(\"-\");\r\n        var d = {};\r\n        if (_key) {\r\n            d[_key] = data;\r\n        } else {\r\n            d[\"data\"] = data;\r\n        }\r\n        return d\r\n    });\r\n\r\n\r\n    var action_delete = createAction(DELETE, function (data, params, keys) {\r\n        return {key: keys.join(\"-\"), params, data};\r\n    });\r\n    var action_error = createAction(ERROR, function (err) {\r\n        return {err};\r\n    });\r\n\r\n\r\n    var methods = {};\r\n    methods[\"query\" + resourceName] = function (params, successcb, errorcb) {\r\n        return getAPI(successcb, errorcb, [action_query, action_request, action_error], url, params, key)\r\n    };\r\n    methods[\"get\" + resourceName] = function (params, successcb, errorcb) {\r\n        return getAPI(successcb, errorcb, [action_receive, action_request, action_error], url, params, key)\r\n    };\r\n    methods[\"post\" + resourceName] = function (params, successcb, errorcb) {\r\n        return postAPI(successcb, errorcb, [action_receive, action_request, action_error], url, params, key)\r\n    };\r\n    methods[\"put\" + resourceName] = function (params, successcb, errorcb) {\r\n        return putAPI(successcb, errorcb, [action_receive, action_request, action_error], url, params, key)\r\n    };\r\n    methods[\"delete\" + resourceName] = function (params, successcb, errorcb) {\r\n        return deleteAPI(successcb, errorcb, [action_delete, action_request, action_error], url, params, key)\r\n    };\r\n    methods[\"clean\" + resourceName] = function (params, data) {\r\n        return dispatch => {\r\n            dispatch({type: CLEAN});\r\n        }\r\n    };\r\n\r\n    methods[\"_update\" + resourceName] = function (...p) {\r\n        return dispatch => {\r\n            dispatch(\r\n                createAction(_UPDATE, function (data) {\r\n                    return data\r\n                })(...p))\r\n        }\r\n    };\r\n    methods[\"_delete\" + resourceName] = function (...p) {\r\n        return dispatch => {\r\n            dispatch(\r\n                createAction(_DELETE, function (data) {\r\n                    return data\r\n                })(...p))\r\n        }\r\n    };\r\n\r\n\r\n    // {name,type,url,paramName}\r\n    if (customMethod) {\r\n        // if (customMethod instanceof Function) {\r\n        //     methods = {...methods, ...customMethod(action_receive, action_request, action_error, key)};\r\n        // } else\r\n        if (Object.prototype.toString.call(customMethod) === '[object Array]') {\r\n            methods = {...methods};\r\n            // customMethod\r\n            for (const m of customMethod) {\r\n                if (m.length >= 3) {\r\n                    const new_action_receive = createAction(RECEIVE, function (data, keys) {\r\n                        var result = {};\r\n                        if (m.length == 3) {\r\n                            result[m[0]] = data;\r\n                        } else {\r\n                            result[m[3]] = data;\r\n                        }\r\n                        return result;\r\n                    });\r\n                    methods[m[0]] = function (params, successcb, errorcb) {\r\n                        return apiFactory(m[1], successcb, errorcb, [new_action_receive, action_request, action_receive], m[2], params, key)\r\n                    }\r\n                } else if (m.length == 2) {\r\n                    methods[m[0]] = function (...p) {\r\n                        return dispatch => {\r\n                            dispatch(m[1](...p))\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    return methods\r\n}\r\nexport function reducerFactory(resourceName, customreducer) {\r\n\r\n    const REQUEST = `REQUEST_${resourceName.toUpperCase()}`;\r\n    const RECEIVE = `RECEIVE_${resourceName.toUpperCase()}`;\r\n    const DELETE = `DELETE_${resourceName.toUpperCase()}`;\r\n    const ERROR = `ERROR_${resourceName.toUpperCase()}`;\r\n    const CLEAN = `CLEAN_${resourceName.toUpperCase()}`;\r\n    const _UPDATE = `_UPDATE_${resourceName.toUpperCase()}`;\r\n    const _DELETE = `_DELETE_${resourceName.toUpperCase()}`;\r\n\r\n    var methods = {};\r\n    //query 数据放在list里\r\n    methods[RECEIVE] = function (state, action) {\r\n        return ({...state, isLoading: false, ...action.payload, error: false})\r\n    };\r\n    methods[_DELETE] = function (state, action) {\r\n        var data = action.payload;\r\n        var _list = state.list;\r\n        if (data && _list) {\r\n            if (Object.prototype.toString.call(_list) === '[object Array]') {\r\n                for (var i = 0; i < _list.length; i++) {\r\n                    var item = _list[i];\r\n                    if (item.id !== null && item !== undefined && data.id !== null && data.id !== undefined) {\r\n                        if (item.id === data.id) {\r\n                            _list.splice(0, 1);\r\n                            break\r\n                        }\r\n                    } else {\r\n                        if (item == data) {\r\n                            _list.splice(i, 1);\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n            } else if (Object.prototype.toString.call(_list) === '[object Object]') {\r\n                if (_list.content && Object.prototype.toString.call(_list.content) === '[object Array]') {\r\n                    var contentList = _list.content;\r\n                    for (var i = 0; i < contentList.length; i++) {\r\n                        var item = contentList[i];\r\n                        if (item.id !== null && item !== undefined && data.id !== null && data.id !== undefined) {\r\n                            if (item.id === data.id) {\r\n                                contentList.splice(0, 1);\r\n                                break\r\n                            }\r\n                        } else {\r\n                            if (item == data) {\r\n                                contentList.splice(i, 1);\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n        return ({...state, list: _list, isLoading: false, error: false})\r\n    };\r\n    methods[_UPDATE] = function (state, action) {\r\n        var isCreate = true;\r\n        var data = action.payload.data;\r\n        var _list = state.list;\r\n\r\n        if (data && _list) {\r\n            if (Object.prototype.toString.call(_list) === '[object Array]') {\r\n                for (var i = 0; i < _list.length; i++) {\r\n                    var item = _list[i];\r\n                    if (item.id !== null && item !== undefined && data.id !== null && data.id !== undefined) {\r\n                        if (item.id === data.id) {\r\n                            _list[i] = data;\r\n                            isCreate = false;\r\n                            // _list.splice(0, 1);\r\n                            break\r\n                        }\r\n                    } else {\r\n                        if (item == data) {\r\n                            _list[i] = data;\r\n                            isCreate = false;\r\n                            // _list.splice(i, 1);\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n                if (isCreate === true) {\r\n                    _list.unshift(data)\r\n                }\r\n            } else if (Object.prototype.toString.call(_list) === '[object Object]') {\r\n                if (_list.content && Object.prototype.toString.call(_list.content) === '[object Array]') {\r\n                    var contentList = _list.content;\r\n                    for (var i = 0; i < contentList.length; i++) {\r\n                        var item = contentList[i];\r\n                        if (item.id !== null && item !== undefined && data.id !== null && data.id !== undefined) {\r\n                            if (item.id === data.id) {\r\n                                // contentList.splice(0, 1);\r\n                                _list[i] = data;\r\n                                isCreate = false;\r\n                                break\r\n                            }\r\n                        } else {\r\n                            if (item == data) {\r\n                                _list[i] = data;\r\n                                isCreate = false;\r\n                                // contentList.splice(i, 1);\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n                    if (isCreate === true) {\r\n                        _list.content.unshift(data)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // else if (data && !_list) {\r\n        //\r\n        //\r\n        // }\r\n        return ({...state, list: _list, isLoading: false, error: false})\r\n    };\r\n\r\n    methods[DELETE] = function (state, action) {\r\n        var data = {...state, isLoading: false, error: false};\r\n        // //如果对象在key中，删除对象,需测试\r\n        // if (action.payload.key) {\r\n        //     delete data[action.payload.key]\r\n        // }\r\n        // //如果对象在list中，从list中删除对象,需测试\r\n        // if (data.list && data.list instanceof Array) {\r\n        //     data.list = data.list.filter(function (obj) {\r\n        //         var b = true;\r\n        //         for (var i in action.payload.params) {\r\n        //             b = b && (obj[i] == action.payload.params[i]);\r\n        //         }\r\n        //         return !b\r\n        //     });\r\n        // }\r\n        return data\r\n    };\r\n\r\n    methods[REQUEST] = function (state, action) {\r\n        return Object.assign({}, state, {isLoading: true, error: false})\r\n    };\r\n    methods[ERROR] = function (state, action) {\r\n        return Object.assign({}, state, {isLoading: true, error: action.payload.err})\r\n    };\r\n    methods[CLEAN] = function (params, data) {\r\n        return {isLoading: false, list: null, error: false}\r\n    };\r\n    methods = {...methods, ...customreducer};\r\n    return handleActions(methods,\r\n        {\r\n            isLoading: false, list: null, error: false\r\n        });\r\n}\r\n\r\nexport function serializeForm(form) {//form表单取值\r\n    if (!form || form.nodeName !== \"FORM\") {\r\n        return;\r\n    }\r\n    var i, j, q = {};\r\n    for (i = form.elements.length - 1; i >= 0; i = i - 1) {\r\n        if (form.elements[i].name === \"\") {\r\n            continue;\r\n        }\r\n        switch (form.elements[i].nodeName) {\r\n            case 'INPUT':\r\n                switch (form.elements[i].type) {\r\n                    case 'text':\r\n                    case 'hidden':\r\n                    case 'password':\r\n                    case 'button':\r\n                    case 'reset':\r\n                    case 'submit':\r\n                        q[form.elements[i].name] = form.elements[i].value;\r\n                        break;\r\n                    case 'checkbox':\r\n                    case 'radio':\r\n                        if (form.elements[i].checked) {\r\n                            q[form.elements[i].name] = form.elements[i].value;\r\n                        }\r\n                        break;\r\n                }\r\n                break;\r\n            case 'file':\r\n                break;\r\n            case 'TEXTAREA':\r\n                q[form.elements[i].name] = form.elements[i].value;\r\n                break;\r\n            case 'SELECT':\r\n                switch (form.elements[i].type) {\r\n                    case 'select-one':\r\n                        q[form.elements[i].name] = form.elements[i].value;\r\n                        break;\r\n                    case 'select-multiple':\r\n                        for (j = form.elements[i].options.length - 1; j >= 0; j = j - 1) {\r\n                            if (form.elements[i].options[j].selected) {\r\n                                q[form.elements[i].name] = form.elements[i].options[j].value;\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n                break;\r\n            case 'BUTTON':\r\n                switch (form.elements[i].type) {\r\n                    case 'reset':\r\n                    case 'submit':\r\n                    case 'button':\r\n                        q[form.elements[i].name] = form.elements[i].value;\r\n                        break;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    return q\r\n}\r\n\r\n/**\r\n * 数据双向绑定\r\n * 例子: containers/TwoWayBindTest\r\n * two way bind data\r\n */\r\nfunction createHandler(component, key, path) {\r\n    return (e) => {\r\n        const el = e.target;\r\n        const value = el.type === 'checkbox' ? el.checked : el.value;\r\n        component.setState({\r\n            [key]: path ? component.state[key].setIn(path, value) : value,\r\n        });\r\n    };\r\n}\r\n\r\nfunction _linkState(component, key, path) {\r\n    const cache = component.__linkStateHandlers ||\r\n        (component.__linkStateHandlers = {});\r\n    const cacheKey = path ? `${key}:${path.toString()}` : key;\r\n\r\n    return cache[cacheKey] ||\r\n        (cache[cacheKey] = createHandler(component, key, path));\r\n}\r\n\r\nfunction linkStateE(context,key){\r\n    return function (_path) {\r\n\r\n        var path = [];\r\n        if(isArray(_path)){\r\n            path = _path;\r\n        }else {\r\n            path.push(_path);\r\n        }\r\n        if(key){\r\n            return _linkState(context,key, path)\r\n        }else {\r\n            return _linkState(context, _path)\r\n        }\r\n    };\r\n}\r\n\r\nfunction linkStateV(context,key) {\r\n    return function (_path) {\r\n        var path = [];\r\n        if(isArray(_path)){\r\n            path = _path;\r\n        }else {\r\n            path.push(_path);\r\n        }\r\n        if(key){\r\n            return context.state[key] ? context.state[key].getIn(path):undefined;\r\n        }else {\r\n            return context.state[_path] ? context.state[_path]:undefined;\r\n        }\r\n    };\r\n}\r\n\r\nexport function linkState(context,key) {\r\n    return{get:linkStateV(context,key),set:linkStateE(context,key)}\r\n}\r\n\r\n\r\n\r\n\r\nexport function isEqual(a, b) {\r\n    var aProps = Object.getOwnPropertyNames(a);\r\n    var bProps = Object.getOwnPropertyNames(b);\r\n    if (aProps.length != bProps.length) {\r\n        return false;\r\n    }\r\n    for (var i = 0; i < aProps.length; i++) {\r\n        var propName = aProps[i];\r\n        if (a[propName] !== b[propName]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n//时间转型\r\nexport function getTime(time) {\r\n    if (!time) {\r\n        return ' ';\r\n    }\r\n    var myDate = new Date(time);\r\n    var year = myDate.getFullYear();    //获取完整的年份(4位,1970-????)\r\n    var month = myDate.getMonth() + 1;       //获取当前月份(0-11,0代表1月)\r\n    if (month < 10)\r\n        month = '0' + month.toString();\r\n    var date = myDate.getDate();\r\n    if (date < 10)\r\n        date = '0' + date.toString();//获取当前日(1-31)\r\n    var hour = myDate.getHours();       //获取当前小时数(0-23)\r\n    if (hour < 10)\r\n        hour = '0' + hour.toString();//获取当前日(1-31)\r\n    var minute = myDate.getMinutes();     //获取当前分钟数(0-59)\r\n    if (minute < 10)\r\n        minute = '0' + minute.toString();//获取当前日(1-31)\r\n\r\n    var strTime;\r\n        strTime=year + '-' + month + '-' + date + ' ' + hour + ':' + minute\r\n\r\n\r\n    return strTime;\r\n}\r\n// 回到顶部\r\nexport function scrollTop() {\r\n    document.documentElement.scrollTop = document.body.scrollTop = 0;\r\n}\r\n\r\n/**\r\n * 检测Object类型\r\n * @param obj\r\n * @returns {boolean}\r\n */\r\nexport function isObject(obj) {\r\n    return Object.prototype.toString.call(obj) === '[object Object]'\r\n}\r\n/**\r\n * 检测Array类型\r\n * @param arr\r\n * @returns {boolean}\r\n */\r\nexport function isArray(arr){\r\n    return Object.prototype.toString.call(arr) === '[object Array]';\r\n}"]}