{"version":3,"sources":["../../src/containers/Login.js"],"names":["Login","props","login","event","preventDefault","param","target","that","obj","result","code","save","content","router","replace","pathname","info","msg","bind","render","mapStateToProps","state","account","mapDispatchToProps","dispatch"],"mappings":";;;;;;;;;;;;;;;;;;AAGA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;AACA;;;;IACMA,K;;;AACF,mBAAYC,KAAZ,EAAmB;AAAA;AAAA,8DACf,sBAAMA,KAAN,CADe;AAElB;AACD;;;oBACAC,K,kBAAMC,K,EAAM;AACRA,cAAMC,cAAN;AADQ,YAEDF,KAFC,GAEQ,KAAKD,KAFb,CAEDC,KAFC;;AAGR,YAAMG,QAAM,0BAAcF,MAAMG,MAApB,CAAZ;AACA,YAAMC,OAAK,IAAX;AACAL,cAAMG,KAAN,EAAY,UAAUG,GAAV,EAAe;AACvB,gBAAIA,IAAIC,MAAJ,CAAWC,IAAX,IAAmB,CAAvB,EAA0B;AACtB,sCAAOC,IAAP,CAAY,OAAZ,EAAqBH,IAAII,OAAzB,EAAkC,EAAC,QAAQ,GAAT,EAAlC;AACAL,qBAAKN,KAAL,CAAWY,MAAX,CAAkBC,OAAlB,CAA0B,EAACC,UAAU,YAAX,EAA1B;AACH,aAHD,MAIK;AACD,gCAAMC,IAAN,CAAW,EAACA,MAAMR,IAAIC,MAAJ,CAAWQ,GAAlB,EAAX;AACH;AACJ,SARW,CAQVC,IARU,CAQL,IARK,CAAZ;AASH,K;;oBAEDC,M,qBAAS;AACL,eACI;AAAA;AAAA,cAAK,WAAW,EAAC,aAAY,IAAb,EAAkB,QAAO,qBAAzB,EAAhB;AACI,mEAAQ,OAAM,OAAd,GADJ;AAEQ;AAAA;AAAA;AACI;AAAA;AAAA,sBAAK,WAAU,WAAf;AACI;AAAA;AAAA,0BAAK,WAAU,YAAf;AACI;AAAA;AAAA;AAAA;AAAA;AADJ,qBADJ;AAII;AAAA;AAAA,0BAAK,WAAU,gBAAf;AACI;AAAA;AAAA,8BAAG,WAAU,eAAb;AAAA;AAAA,yBADJ;AAEI;AAAA;AAAA,8BAAM,MAAK,MAAX,EAAmB,UAAY,KAAKjB,KAAL,CAAWgB,IAAX,CAAgB,IAAhB,CAA/B;AACI;AAAA;AAAA,kCAAK,WAAU,yBAAf;AACI,yEAAO,MAAK,MAAZ,EAAmB,WAAU,cAA7B,EAA4C,UAAU,IAAtD,EAA8D,MAAK,MAAnE,EAA0E,aAAY,UAAtF,GADJ;AAEI,wEAAM,WAAU,gDAAhB;AAFJ,6BADJ;AAKI;AAAA;AAAA,kCAAK,WAAU,yBAAf;AACI,yEAAO,MAAK,UAAZ,EAAuB,WAAU,cAAjC,EAAgD,UAAU,IAA1D,EAAkE,MAAK,UAAvE,EAAkF,aAAY,UAA9F,GADJ;AAEI,wEAAM,WAAU,gDAAhB;AAFJ,6BALJ;AASI;AAAA;AAAA,kCAAK,WAAU,KAAf;AAMI;AAAA;AAAA,sCAAK,WAAU,0BAAf;AACI;AAAA;AAAA,0CAAQ,MAAK,QAAb,EAAsB,WAAU,oCAAhC;AAAA;AAAA;AADJ;AANJ;AATJ;AAFJ;AAJJ;AADJ;AAFR,SADJ;AAmCH,K;;;qBAvEL;;;;;AAyEA,SAASE,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,WAAO;AACHC,iBAASD,MAAMC;AADZ,KAAP;AAGH;AACD,SAASC,kBAAT,CAA4BC,QAA5B,EAAsC;AAClC,WAAO,wDAAmCA,QAAnC,CAAP;AACH;kBACc,yBAAQJ,eAAR,EAAyBG,kBAAzB,EAA6C,6BAAWvB,KAAX,CAA7C,C","file":"Login.js","sourcesContent":["/**\r\n * Created by john on 2016/5/19.\r\n */\r\nimport React, {Component, PropTypes} from 'react'\r\nimport {bindActionCreators} from 'redux'\r\nimport {Link, withRouter} from \"react-router\";\r\nimport {connect} from 'react-redux'\r\nimport {accountActions} from '../actions'\r\nimport Helmet from \"react-helmet\"\r\nimport {Panel, Button, Col, Row,Form,FormControl,FormGroup,Glyphicon} from \"react-bootstrap\"\r\nimport Alert from '../components/Alert'\r\nimport cookie from 'react-cookie'\r\nimport {getMuser} from '../common/auth'\r\nimport {serializeForm} from '../common/index'\r\nclass Login extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    //登录\r\n    login(event){\r\n        event.preventDefault();\r\n        const {login} = this.props;\r\n        const param=serializeForm(event.target);\r\n        const that=this;\r\n        login(param,function (obj) {\r\n            if (obj.result.code == 1) {\r\n                cookie.save(\"muser\", obj.content, {\"path\": '/'});\r\n                that.props.router.replace({pathname: '/dashboard'});\r\n            }\r\n            else {\r\n                Alert.info({info: obj.result.msg});\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Row className={{\"show-grid\":true,\"hide\":getMuser()}}>\r\n                <Helmet title=\"Login\"/>\r\n                    <div>\r\n                        <div className=\"login-box\">\r\n                            <div className=\"login-logo\">\r\n                                <b>yoga manage</b>\r\n                            </div>\r\n                            <div className=\"login-box-body\">\r\n                                <p className=\"login-box-msg\">Sign in to start your session</p>\r\n                                <Form role=\"form\"  onSubmit = {this.login.bind(this)}>\r\n                                    <div className=\"form-group has-feedback\">\r\n                                        <input type=\"text\" className=\"form-control\" required={true}   name=\"name\" placeholder=\"Username\"/>\r\n                                        <span className=\"glyphicon glyphicon-user form-control-feedback\"></span>\r\n                                    </div>\r\n                                    <div className=\"form-group has-feedback\">\r\n                                        <input type=\"password\" className=\"form-control\" required={true}   name=\"password\" placeholder=\"Password\"/>\r\n                                        <span className=\"glyphicon glyphicon-lock form-control-feedback\"></span>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        {/*<div className=\"col-xs-4\">\r\n                                            <Link to='/register'>\r\n                                               <button type=\"submit\" className=\"btn btn-default btn-block btn-flat\">register</button>\r\n                                            </Link>\r\n                                        </div>*/}\r\n                                        <div className=\"col-xs-4 col-md-offset-8\">\r\n                                            <button type=\"submit\" className=\"btn btn-primary btn-block btn-flat\">Sign In</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </Form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n            </Row>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        account: state.account\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(accountActions, dispatch)\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login))\r\n"]}