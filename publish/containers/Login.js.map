{"version":3,"sources":["../../src/containers/Login.js"],"names":["Login","props","login","event","preventDefault","param","target","that","obj","result","code","save","router","replace","pathname","info","msg","bind","render","mapStateToProps","state","account","mapDispatchToProps","dispatch"],"mappings":";;;;;;;;;;;;;;;;;;AAGA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;AACA;;;;IACMA,K;;;AACF,mBAAYC,KAAZ,EAAmB;AAAA;AAAA,8DACf,sBAAMA,KAAN,CADe;AAElB;AACD;;;oBACAC,K,kBAAMC,K,EAAM;AACRA,cAAMC,cAAN;AADQ,YAEDF,KAFC,GAEQ,KAAKD,KAFb,CAEDC,KAFC;;AAGR,YAAMG,QAAM,0BAAcF,MAAMG,MAApB,CAAZ;AACA,YAAMC,OAAK,IAAX;AACAL,cAAMG,KAAN,EAAY,UAAUG,GAAV,EAAe;AACvB,gBAAIA,IAAIC,MAAJ,CAAWC,IAAX,IAAmB,CAAvB,EAA0B;AACtB,sCAAOC,IAAP,CAAY,OAAZ,EAAqBH,GAArB,EAA0B,EAAC,QAAQ,GAAT,EAA1B;AACAD,qBAAKN,KAAL,CAAWW,MAAX,CAAkBC,OAAlB,CAA0B,EAACC,UAAU,UAAX,EAA1B;AACH,aAHD,MAIK;AACD,gCAAMC,IAAN,CAAW,EAACA,MAAMP,IAAIC,MAAJ,CAAWO,GAAlB,EAAX;AACH;AACJ,SARW,CAQVC,IARU,CAQL,IARK,CAAZ;AASH,K;;oBAEDC,M,qBAAS;AACL,eACI;AAAA;AAAA,cAAK,WAAW,EAAC,aAAY,IAAb,EAAkB,QAAO,qBAAzB,EAAhB;AACI;AAAA;AAAA,kBAAK,IAAI,EAAT,EAAa,UAAU,CAAvB,EAA0B,IAAI,CAA9B;AACI;AAAA;AAAA;AACI,2EAAQ,OAAM,OAAd,GADJ;AAEI;AAAA;AAAA,0BAAO,QAAO,sCAAd,EAAuB,SAAQ,SAA/B,EAAyC,WAAU,OAAnD;AACI;AAAA;AAAA,8BAAM,gBAAN,EAAiB,UAAY,KAAKhB,KAAL,CAAWe,IAAX,CAAgB,IAAhB,CAA7B;AACI;AAAA;AAAA,kCAAW,WAAU,qBAArB;AACI;AAAA;AAAA,sCAAM,IAAI,CAAV,EAAa,WAAU,uBAAvB;AACI,+FAAW,OAAM,MAAjB,EAAwB,WAAU,OAAlC;AADJ,iCADJ;AAII;AAAA;AAAA,sCAAK,IAAI,EAAT;AACI,iGAAa,UAAU,IAAvB,EAA8B,MAAK,MAAnC,EAA0C,MAAK,MAA/C,EAAsD,aAAY,MAAlE;AADJ;AAJJ,6BADJ;AAUI;AAAA;AAAA,kCAAW,WAAU,wBAArB;AACI;AAAA;AAAA,sCAAK,IAAI,CAAT,EAAY,WAAU,uBAAtB;AACI,+FAAW,OAAM,MAAjB,EAAwB,WAAU,OAAlC;AADJ,iCADJ;AAII;AAAA;AAAA,sCAAK,IAAI,EAAT;AACI,iGAAa,MAAK,UAAlB,EAA6B,MAAK,UAAlC,EAA6C,aAAY,UAAzD;AADJ;AAJJ,6BAVJ;AAmBI;AAAA;AAAA;AACI;AAAA;AAAA,sCAAK,UAAU,CAAf,EAAkB,IAAI,EAAtB;AACI;AAAA;AAAA,0CAAQ,MAAK,QAAb;AAAA;AAAA;AADJ;AADJ;AAnBJ;AADJ;AAFJ;AADJ;AADJ,SADJ;AAsCH,K;;;qBA1EL;;;;;AA4EA,SAASE,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,WAAO;AACHC,iBAASD,MAAMC;AADZ,KAAP;AAGH;AACD,SAASC,kBAAT,CAA4BC,QAA5B,EAAsC;AAClC,WAAO,wDAAmCA,QAAnC,CAAP;AACH;kBACc,yBAAQJ,eAAR,EAAyBG,kBAAzB,EAA6C,6BAAWtB,KAAX,CAA7C,C","file":"Login.js","sourcesContent":["/**\r\n * Created by john on 2016/5/19.\r\n */\r\nimport React, {Component, PropTypes} from 'react'\r\nimport {bindActionCreators} from 'redux'\r\nimport {withRouter} from \"react-router\";\r\nimport {connect} from 'react-redux'\r\nimport {accountActions} from '../actions'\r\nimport Helmet from \"react-helmet\"\r\nimport {Panel, Button, Col, Row,Form,FormControl,FormGroup,Glyphicon} from \"react-bootstrap\"\r\nimport Alert from '../components/Alert'\r\nimport cookie from 'react-cookie'\r\nimport {getMuser} from '../common/auth'\r\nimport {serializeForm} from '../common/index'\r\nclass Login extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    //登录\r\n    login(event){\r\n        event.preventDefault();\r\n        const {login} = this.props;\r\n        const param=serializeForm(event.target);\r\n        const that=this;\r\n        login(param,function (obj) {\r\n            if (obj.result.code == 1) {\r\n                cookie.save(\"muser\", obj, {\"path\": '/'});\r\n                that.props.router.replace({pathname: '/account'});\r\n            }\r\n            else {\r\n                Alert.info({info: obj.result.msg});\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Row className={{\"show-grid\":true,\"hide\":getMuser()}}>\r\n                <Col xs={12} mdOffset={4} md={4}>\r\n                    <div>\r\n                        <Helmet title=\"Login\"/>\r\n                        <Panel header=\"后台管理登录\" bsStyle=\"primary\" className=\"m-t60\">\r\n                            <Form horizontal onSubmit = {this.login.bind(this)}>\r\n                                <FormGroup controlId=\"formHorizontalEmail\">\r\n                                    <Col  sm={2} className=\"text-center text-info\">\r\n                                        <Glyphicon glyph=\"user\" className=\"m-t10\"/>\r\n                                    </Col>\r\n                                    <Col sm={10}>\r\n                                        <FormControl required={true}  type=\"text\" name=\"name\" placeholder=\"Name\"/>\r\n                                    </Col>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup controlId=\"formHorizontalPassword\">\r\n                                    <Col sm={2} className=\"text-center text-info\">\r\n                                        <Glyphicon glyph=\"lock\" className=\"m-t10\"/>\r\n                                    </Col>\r\n                                    <Col sm={10}>\r\n                                        <FormControl type=\"password\" name=\"password\" placeholder=\"Password\" />\r\n                                    </Col>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup>\r\n                                    <Col smOffset={2} sm={10}>\r\n                                        <Button type=\"submit\">\r\n                                            登录\r\n                                        </Button>\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </Form>\r\n                        </Panel>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        account: state.account\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(accountActions, dispatch)\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login))\r\n"]}