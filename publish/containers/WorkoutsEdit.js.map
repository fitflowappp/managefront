{"version":3,"sources":["../../src/containers/WorkoutsEdit.js"],"names":["WorkoutsEdit","props","state","workout","code","title","duration","description","message","coverImg","routines","success","componentDidMount","id","routeParams","getWorkouts","that","res","setState","content","componentDidUpdate","prevProps","prevState","save","event","preventDefault","postWorkouts","putWorkouts","result","back","info","msg","uploadFile","e","target","name","after","setWorkout","getAttribute","value","pushRoutines","obj","push","openRoutinesListModal","refs","getWrappedInstance","openModal","upRoutines","index","before","delRoutines","confirm","body","surecb","splice","router","goBack","render","bind","maxWidth","contentUri","map","routine","fontSize","mapStateToProps","workouts","mapDispatchToProps","dispatch"],"mappings":"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","file":"WorkoutsEdit.js","sourcesContent":["/**\r\n * Created by qwr on 2017/9/14.\r\n */\r\nimport React, {Component, PropTypes} from 'react'\r\nimport Helmet from \"react-helmet\"\r\nimport {bindActionCreators} from 'redux'\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from \"react-router\";\r\nimport {upload} from '../common/fetch'\r\nimport {Col, Form, Pagination, Row} from \"react-bootstrap\"\r\nimport {workoutsActions} from '../actions'\r\nimport Alert from '../components/Alert';\r\nimport RoutinesListModal from '../components/modal/RoutinesListModal';\r\nclass WorkoutsEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            workout:{\r\n                code:'',\r\n                title:'',\r\n                duration:'',\r\n                description:'',\r\n                message:'',\r\n                coverImg:null,\r\n                routines:[],\r\n            },\r\n            success:false,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        var id=this.props.routeParams.id;\r\n        if(id!=0){\r\n            const {getWorkouts} = this.props;\r\n            const that=this;\r\n            getWorkouts({id:id},function (res) {\r\n                that.setState({\r\n                    workout:res.content,\r\n                })\r\n            })\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n    }\r\n    save(event) {\r\n        event.preventDefault();\r\n        const {postWorkouts,putWorkouts} = this.props;\r\n        var workout = this.state.workout;\r\n        var that=this;\r\n        if(!workout.id){\r\n            postWorkouts(workout,function (res) {\r\n                if(res.result.code==1) {\r\n                    that.setState({\r\n                        success: true,\r\n                    })\r\n                    that.back();\r\n                }\r\n                 Alert.info({info:res.result.msg});\r\n            });\r\n        }else{\r\n            putWorkouts(workout,function (res) {\r\n                if(res.result.code==1){\r\n                    that.setState({\r\n                        success:true,\r\n                    })\r\n                }\r\n                 Alert.info({info:res.result.msg});\r\n\r\n            });\r\n        }\r\n\r\n    }\r\n    uploadFile(e) {\r\n        const target = e.target;\r\n        const name = target.name;\r\n        const that = this;\r\n        var workout = this.state.workout;\r\n        upload(e).after(function (res) {\r\n            workout[name]=res[0];\r\n            that.setState(workout)\r\n        });\r\n    }\r\n    setWorkout(e){\r\n        var target=e.target;\r\n        var name =target.getAttribute('name');\r\n        var workout = this.state.workout;\r\n        var value = target.value;\r\n        workout[name]=value;\r\n        this.setState(workout);\r\n    }\r\n    pushRoutines(obj){\r\n        var workout = this.state.workout;\r\n        workout.routines.push(obj);\r\n        this.setState(workout);\r\n    }\r\n    openRoutinesListModal(){\r\n        this.refs['RoutinesListModal'].getWrappedInstance().openModal();\r\n    }\r\n    //排序routines\r\n    upRoutines(index){\r\n        var workout = this.state.workout;\r\n        var routines=workout.routines;\r\n        if(index!=0){\r\n            var before=routines[index-1];\r\n            var after=routines[index];\r\n            routines[index-1]=after;\r\n            routines[index]=before;\r\n            this.setState(workout);\r\n        }\r\n    }\r\n    //删除routines\r\n    delRoutines(index) {\r\n        var that=this;\r\n        Alert.confirm({\r\n            title: 'delete', body: \"confirm？\", surecb: function () {\r\n                var workout = that.state.workout;\r\n                var routines = workout.routines;\r\n                routines.splice(index, 1);\r\n                that.setState(workout);\r\n            }\r\n        });\r\n    }\r\n    back(){\r\n        this.props.router.goBack();\r\n    }\r\n    render() {\r\n        var workout=this.state.workout;\r\n        var success=this.state.success;\r\n        return (\r\n            <div>\r\n                <Helmet title=\"WorkoutsEdit\"/>\r\n                <RoutinesListModal ref=\"RoutinesListModal\" pushRoutines={this.pushRoutines.bind(this)}/>\r\n                <div className=\"box\">\r\n                    {success&&<div className=\"callout callout-success text-center\">Your changes have been succesfully saved</div>}\r\n                    <div className=\"box-header\">\r\n                        <h3 className=\"box-title\">Edit Workout</h3>\r\n                    </div>\r\n                    <Form role=\"form\"  onSubmit = {this.save.bind(this)}>\r\n                        <div className=\"box-body\">\r\n                            <Row>\r\n                                <Col lg={3} className=\"m-t10\">Workout ID:</Col>\r\n                                <Col lg={9} className=\"m-t10\">{workout.id}</Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col lg={3} className=\"m-t10\">Number of times started:</Col>\r\n                                <Col lg={3} className=\"m-t10\"></Col>\r\n\r\n                                <Col lg={3} className=\"m-t10\">Number of unique users started:</Col>\r\n                                <Col lg={3} className=\"m-t10\"></Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col lg={3} className=\"m-t10\">Number of times completed:</Col>\r\n                                <Col lg={3} className=\"m-t10\"></Col>\r\n\r\n                                <Col lg={3} className=\"m-t10\">Number of unique users completed:</Col>\r\n                                <Col lg={3} className=\"m-t10\"></Col>\r\n                            </Row>\r\n                            <Row className=\"m-t40\">\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label  className=\"m-t5\">Workout Code:</label>\r\n                                </Col>\r\n                                <Col lg={9} className=\"m-t10\">\r\n                                    <input type=\"text\"  className=\"form-control\" style={{maxWidth:'615px'}} required={true} placeholder=\"\" name=\"code\" value={workout.code} onChange={this.setWorkout.bind(this)}/>\r\n                                </Col>\r\n\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Workout Title:</label>\r\n                                </Col>\r\n                                <Col lg={9} className=\"m-t10\">\r\n                                    <input type=\"text\"  className=\"form-control\" style={{maxWidth:'615px'}} required={true} placeholder=\"\" name=\"title\" value={workout.title} onChange={this.setWorkout.bind(this)}/>\r\n                                </Col>\r\n\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Workout Duration(mins):</label>\r\n                                </Col>\r\n                                <Col lg={9} className=\"m-t10\">\r\n                                    <input type=\"text\"  className=\"form-control\" style={{maxWidth:'615px'}} required={true} placeholder=\"\" name=\"duration\" value={workout.duration} onChange={this.setWorkout.bind(this)}/>\r\n                                </Col>\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Workout Description:</label>\r\n                                </Col>\r\n                                <Col lg={9} className=\"m-t10\">\r\n                                    <input type=\"text\"  className=\"form-control\" style={{maxWidth:'615px'}} required={true} placeholder=\"\" name=\"description\" value={workout.description} onChange={this.setWorkout.bind(this)}/>\r\n                                </Col>\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Completion Message:</label>\r\n                                </Col>\r\n                                <Col lg={9} className=\"m-t10\">\r\n                                    <input type=\"text\"  className=\"form-control\" style={{maxWidth:'615px'}}  placeholder=\"\" name=\"message\" value={workout.message} onChange={this.setWorkout.bind(this)}/>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Workout Image:</label>\r\n                                </Col>\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <input type=\"file\" name=\"coverImg\"  onChange={this.uploadFile.bind(this)}/>\r\n                                </Col>\r\n                                <Col lg={6} className=\"m-t10\">\r\n                                    {workout.coverImg&&\r\n                                    <img src={workout.coverImg.contentUri} alt=\"Workout Image\" width={100}/>\r\n                                    }\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Associated Routines:</label>\r\n                                </Col>\r\n                                <Col lg={9}  className=\"m-t5\">\r\n                                    {workout.routines.map((routine, index) =>\r\n                                        <div key={index} className=\"m-b5\">\r\n                                            <i onClick={this.upRoutines.bind(this,index)} className=\"fa fa-arrow-up text-primary pointer m-r10\" style={{fontSize:'20px'}}></i>\r\n                                            Routine{routine.code}:{routine.title}\r\n                                            <i onClick={this.delRoutines.bind(this,index)} className=\"fa fa-close text-danger pointer m-l10\" style={{fontSize:'20px'}}></i>\r\n                                            </div>\r\n                                    )}\r\n                                    <i onClick={this.openRoutinesListModal.bind(this)} className=\"fa fa-plus-square text-primary pointer\" style={{fontSize:'40px'}}></i>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n\r\n                        <div className=\"box-footer clearfix\">\r\n                            <Row>\r\n                                <Col lg={12} className=\"col-md-offset-3\">\r\n                                    <button type=\"submit\"  className=\"btn  btn-primary\" >Save</button>\r\n                                    <button type=\"button\" className=\"btn btn-default m-l10\" onClick={this.back.bind(this)}>Back</button>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    </Form>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        workouts: state.workouts\r\n    }\r\n}\r\n//将action的所有方法绑定到props上\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(workoutsActions, dispatch)\r\n}\r\n\r\n//通过react-redux提供的connect方法将我们需要的state中的数据和actions中的方法绑定到props上\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(WorkoutsEdit))"]}