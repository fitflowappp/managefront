{"version":3,"sources":["../../src/containers/ChallengesEdit.js"],"names":["ChallengesEdit","props","state","challenge","code","title","subTitle","description","coverImg","workouts","success","componentDidMount","id","routeParams","getChallenges","that","res","setState","content","componentDidUpdate","prevProps","prevState","save","event","preventDefault","postChallenges","putChallenges","result","info","msg","uploadFile","e","target","name","after","setChallenge","getAttribute","value","pushWorkouts","obj","push","openWorkoutsListModal","refs","getWrappedInstance","openModal","upChallenge","index","before","delChallenge","confirm","body","surecb","workout","routines","splice","back","router","goBack","render","bind","maxWidth","contentUri","map","fontSize","mapStateToProps","challenges","mapDispatchToProps","dispatch"],"mappings":"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","file":"ChallengesEdit.js","sourcesContent":["/**\r\n * Created by qwr on 2017/9/18.\r\n */\r\nimport React, {Component, PropTypes} from 'react'\r\nimport Helmet from \"react-helmet\"\r\nimport {bindActionCreators} from 'redux'\r\nimport {connect} from 'react-redux'\r\nimport {Link, withRouter} from \"react-router\";\r\nimport {Col, Form, Pagination, Row} from \"react-bootstrap\"\r\nimport {upload} from '../common/fetch'\r\nimport {challengesActions} from '../actions'\r\nimport Alert from '../components/Alert';\r\nimport WorkoutsListModal from '../components/modal/WorkoutsListModal';\r\nclass ChallengesEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            challenge:{\r\n                code:'',\r\n                title:'',\r\n                subTitle:'',\r\n                description:'',\r\n                coverImg:null,\r\n                workouts:[],\r\n            },\r\n            success:false,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        var id=this.props.routeParams.id;\r\n        if(id!=0){\r\n            const {getChallenges} = this.props;\r\n            const that=this;\r\n            getChallenges({id:id},function (res) {\r\n                that.setState({\r\n                    challenge:res.content,\r\n                })\r\n            })\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n    }\r\n    save(event) {\r\n        event.preventDefault();\r\n        const {postChallenges,putChallenges} = this.props;\r\n        var challenge = this.state.challenge;\r\n        var that=this;\r\n        if(!challenge.id){\r\n            postChallenges(challenge,function (res) {\r\n                if(res.result.code==1){\r\n                    that.setState({\r\n                        success:true,\r\n                    })\r\n                }\r\n                Alert.info({info:res.result.msg});\r\n            });\r\n        }else{\r\n            putChallenges(challenge,function (res) {\r\n                if(res.result.code==1){\r\n                    that.setState({\r\n                        success:true,\r\n                    })\r\n                }\r\n                Alert.info({info:res.result.msg});\r\n            });\r\n        }\r\n\r\n    }\r\n    uploadFile(e) {\r\n        const target = e.target;\r\n        const name = target.name;\r\n        const that = this;\r\n        var challenge = this.state.challenge;\r\n        upload(e).after(function (res) {\r\n            challenge[name]=res[0];\r\n            that.setState(challenge)\r\n        });\r\n    }\r\n    setChallenge(e){\r\n        var target=e.target;\r\n        var name =target.getAttribute('name');\r\n        var challenge = this.state.challenge;\r\n        var value = target.value;\r\n        challenge[name]=value;\r\n        this.setState(challenge);\r\n    }\r\n    pushWorkouts(obj){\r\n        var challenge = this.state.challenge;\r\n        challenge.workouts.push(obj);\r\n        this.setState(challenge);\r\n    }\r\n    openWorkoutsListModal(){\r\n        this.refs['WorkoutsListModal'].getWrappedInstance().openModal();\r\n    }\r\n    //排序routines\r\n    upChallenge(index){\r\n        var challenge = this.state.challenge;\r\n        var workouts=challenge.workouts;\r\n        if(index!=0){\r\n            var before=workouts[index-1];\r\n            var after=workouts[index];\r\n            workouts[index-1]=after;\r\n            workouts[index]=before;\r\n            this.setState(challenge);\r\n        }\r\n    }\r\n    //删除routines\r\n    delChallenge(index) {\r\n        const that=this;\r\n        Alert.confirm({\r\n            title: 'delete', body: \"confirm？\", surecb: function () {\r\n                var workout = that.state.workout;\r\n                var routines = workout.routines;\r\n                routines.splice(index, 1);\r\n                that.setState(workout);\r\n            }\r\n        });\r\n    }\r\n    back(){\r\n        this.props.router.goBack();\r\n    }\r\n    render() {\r\n        var challenge=this.state.challenge;\r\n        var success=this.state.success;\r\n        return (\r\n            <div>\r\n                <Helmet title=\"Edit Challenge\"/>\r\n                <WorkoutsListModal ref=\"WorkoutsListModal\" pushWorkouts={this.pushWorkouts.bind(this)}/>\r\n                <div className=\"box\">\r\n                    {success&&<div className=\"callout callout-success text-center\">Your changes have been succesfully saved</div>}\r\n                    <div className=\"box-header\">\r\n                        <h3 className=\"box-title\">Edit Challenge</h3>\r\n                    </div>\r\n                    <Form role=\"form\"  onSubmit = {this.save.bind(this)}>\r\n                        <div className=\"box-body\">\r\n                            <Row>\r\n                                <Col lg={3} className=\"m-t10\">Challenge ID:</Col>\r\n                                <Col lg={9} className=\"m-t10\">{}</Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col lg={3} className=\"m-t10\">Number of times started:</Col>\r\n                                <Col lg={3} className=\"m-t10\"></Col>\r\n\r\n                                <Col lg={3} className=\"m-t10\">Number of unique users started:</Col>\r\n                                <Col lg={3} className=\"m-t10\"></Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col lg={3} className=\"m-t10\">Number of times completed:</Col>\r\n                                <Col lg={3} className=\"m-t10\"></Col>\r\n\r\n                                <Col lg={3} className=\"m-t10\">Number of unique users completed:</Col>\r\n                                <Col lg={3} className=\"m-t10\"></Col>\r\n                            </Row>\r\n                            <Row className=\"m-t40\">\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label  className=\"m-t5\">Challenge Code:</label>\r\n                                </Col>\r\n                                <Col lg={9} className=\"m-t10\">\r\n                                    <input type=\"text\"  className=\"form-control\" style={{maxWidth:'615px'}} required={true} placeholder=\"\" name=\"code\" value={challenge.code} onChange={this.setChallenge.bind(this)}/>\r\n                                </Col>\r\n\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Challenge Title:</label>\r\n                                </Col>\r\n                                <Col lg={9} className=\"m-t10\">\r\n                                    <input type=\"text\"  className=\"form-control\" style={{maxWidth:'615px'}} required={true} placeholder=\"\" name=\"title\" value={challenge.title} onChange={this.setChallenge.bind(this)}/>\r\n                                </Col>\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Challenge Subtitle:</label>\r\n                                </Col>\r\n                                <Col lg={9} className=\"m-t10\">\r\n                                    <input type=\"text\"  className=\"form-control\" style={{maxWidth:'615px'}} required={true} placeholder=\"\" name=\"subTitle\" value={challenge.subTitle} onChange={this.setChallenge.bind(this)}/>\r\n                                </Col>\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Challenge Description:</label>\r\n                                </Col>\r\n                                <Col lg={9} className=\"m-t10\">\r\n                                    <input type=\"text\"  className=\"form-control\" style={{maxWidth:'615px'}} required={true} placeholder=\"\" name=\"description\" value={challenge.description} onChange={this.setChallenge.bind(this)}/>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Challenge Image:</label>\r\n                                </Col>\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <input type=\"file\" name=\"coverImg\"  onChange={this.uploadFile.bind(this)}/>\r\n                                </Col>\r\n                                <Col lg={6} className=\"m-t10\">\r\n                                    {challenge.coverImg&&\r\n                                    <img src={challenge.coverImg.contentUri} alt=\"Challenge Image\" width={100}/>\r\n                                    }\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col lg={3} className=\"m-t10\">\r\n                                    <label className=\"m-t5\">Challenge Workouts:</label>\r\n                                </Col>\r\n                                <Col lg={9}  className=\"m-t5\">\r\n                                    {challenge.workouts.map((workout, index) =>\r\n                                        <div key={index} className=\"m-b5\">\r\n                                            <i onClick={this.upChallenge.bind(this,index)} className=\"fa fa-arrow-up text-primary pointer m-r10\" style={{fontSize:'20px'}}></i>\r\n                                            Workout{workout.code}:{workout.title}\r\n                                            <i onClick={this.delChallenge.bind(this,index)} className=\"fa fa-close text-danger pointer m-l10\" style={{fontSize:'20px'}}></i>\r\n                                        </div>\r\n                                    )}\r\n                                    <i onClick={this.openWorkoutsListModal.bind(this)} className=\"fa fa-plus-square text-primary pointer\" style={{fontSize:'40px'}}></i>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n\r\n                        <div className=\"box-footer clearfix\">\r\n                            <Row>\r\n                                <Col lg={12} className=\"col-md-offset-3\">\r\n                                    <button type=\"submit\"  className=\"btn  btn-primary\" >Save</button>\r\n                                    <button type=\"button\" className=\"btn btn-default m-l10\" onClick={this.back.bind(this)}>Back</button>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    </Form>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        challenges: state.challenges\r\n    }\r\n}\r\n//将action的所有方法绑定到props上\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(challengesActions, dispatch)\r\n}\r\n\r\n//通过react-redux提供的connect方法将我们需要的state中的数据和actions中的方法绑定到props上\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ChallengesEdit))"]}