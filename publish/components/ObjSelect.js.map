{"version":3,"sources":["../../src/components/ObjSelect.js"],"names":["ObjSelect","props","options","label","code","_options","_optionsMap","push","value","set","prop","item","String","state","optionsMap","selectChange","cb","e","get","target","render","bind","onChange","map","index","propTypes","PropTypes","string","isRequired","array","func"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAGA;;;;AACA;;;;;;AACA;;;AALA;;;IAQqBA,S;;;AACjB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,mEACf,sBAAMA,KAAN,CADe;;AAAA,YAGRC,OAHQ,GAGcD,KAHd,CAGRC,OAHQ;AAAA,YAGAC,KAHA,GAGcF,KAHd,CAGAE,KAHA;AAAA,YAGMC,IAHN,GAGcH,KAHd,CAGMG,IAHN;;AAIf,YAAIC,WAAU,EAAd;AACA,YAAIC,cAAc,mBAAlB;;AAEAD,iBAASE,IAAT,CAAc,EAACJ,OAAM,KAAP,EAAcK,OAAM,EAApB,EAAd;AACAF,oBAAYG,GAAZ,CAAgB,EAAhB,EAAmB,EAAnB;;AAEA,aAAK,IAAIC,IAAT,IAAiBR,OAAjB,EAAyB;AACrB,gBAAIS,OAAOT,QAAQQ,IAAR,CAAX;AACAL,qBAASE,IAAT,CAAc,EAACJ,OAAMQ,KAAKR,KAAL,CAAP,EAAoBK,OAAMG,KAAKP,IAAL,CAA1B,EAAd;AACAE,wBAAYG,GAAZ,CAAgBG,OAAOD,KAAKP,IAAL,CAAP,CAAhB,EAAmCO,IAAnC;AACH;;AAED,cAAKE,KAAL,GACA;AACIC,wBAAWR,WADf;AAEIJ,qBAAQG;AAFZ,SADA;;AAhBe;AAsBlB;;wBAEDU,Y,yBAAaC,E,EAAGC,C,EAAE;AACd,YAAGD,EAAH,EACAA,GAAG,KAAKH,KAAL,CAAWC,UAAX,CAAsBI,GAAtB,CAA0BD,EAAEE,MAAF,CAASX,KAAnC,CAAH;AACH,K;;wBAEDY,M,qBAAS;AACL,YAAIZ,QAAQ,KAAKP,KAAL,CAAWO,KAAX,CAAiB,KAAKP,KAAL,CAAWG,IAA5B,CAAZ;AACA,eACI;AAAA;AAAA,cAAQ,UAAU,KAAKW,YAAL,CAAkBM,IAAlB,CAAuB,IAAvB,EAA4B,KAAKpB,KAAL,CAAWqB,QAAvC,CAAlB,EAAoE,OAAOd,KAA3E;AACK,iBAAKK,KAAL,CAAWX,OAAX,IAAsB,KAAKW,KAAL,CAAWX,OAAX,CAAmBqB,GAAnB,CAAuB,UAACZ,IAAD,EAAOa,KAAP;AAAA,uBAC1C;AAAA;AAAA,sBAAQ,OAAOb,KAAKH,KAApB,EAA2B,KAAKgB,KAAhC;AAAwCb,yBAAKR;AAA7C,iBAD0C;AAAA,aAAvB;AAD3B,SADJ;AAOH,K;;;;;kBAvCgBH,S;;;AA0CrBA,UAAUyB,SAAV,GAAsB;AAClBtB,WAAM,gBAAMuB,SAAN,CAAgBC,MAAhB,CAAuBC,UADX;AAElBxB,UAAK,gBAAMsB,SAAN,CAAgBC,MAAhB,CAAuBC,UAFV;AAGlB1B,aAAQ,gBAAMwB,SAAN,CAAgBG,KAHN;AAIlBP,cAAS,gBAAMI,SAAN,CAAgBI;AAJP,CAAtB","file":"ObjSelect.js","sourcesContent":["/**\r\n * Created by smk on 2016/9/23.\r\n */\r\nimport React, {Component, PropTypes} from 'react';\r\nimport ReactDOM, {render, findDOMNode} from 'react-dom'\r\n/**\r\n * <ObjSelect options={options} onChange={selectChange.bind(this)} label=\"size\" code=\"code\" value={this.state.v}/>\r\n */\r\nexport default class ObjSelect extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const {options,label,code} = props;\r\n        var _options =[];\r\n        var _optionsMap = new Map();\r\n\r\n        _options.push({label:\"请选择\", value:\"\"});\r\n        _optionsMap.set(\"\",\"\");\r\n\r\n        for (var prop in options){\r\n            var item = options[prop];\r\n            _options.push({label:item[label], value:item[code]});\r\n            _optionsMap.set(String(item[code]),item);\r\n        }\r\n\r\n        this.state =\r\n        {\r\n            optionsMap:_optionsMap,\r\n            options:_options\r\n        }\r\n\r\n    }\r\n\r\n    selectChange(cb,e){\r\n        if(cb)\r\n        cb(this.state.optionsMap.get(e.target.value))\r\n    }\r\n\r\n    render() {\r\n        var value = this.props.value[this.props.code];\r\n        return (\r\n            <select onChange={this.selectChange.bind(this,this.props.onChange)} value={value}>\r\n                {this.state.options && this.state.options.map((item, index) =>\r\n                    <option value={item.value} key={index}>{item.label}</option>\r\n                )}\r\n            </select>\r\n        )\r\n    }\r\n}\r\n\r\nObjSelect.propTypes = {\r\n    label:React.PropTypes.string.isRequired,\r\n    code:React.PropTypes.string.isRequired,\r\n    options:React.PropTypes.array,\r\n    onChange:React.PropTypes.func\r\n};\r\n"]}