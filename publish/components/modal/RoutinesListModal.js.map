{"version":3,"sources":["../../../src/components/modal/RoutinesListModal.js"],"names":["RoutinesListModal","props","state","routines","show","componentDidMount","queryRoutines","that","res","setState","componentWillReceiveProps","nextProps","_handleValidSubmit","event","preventDefault","pushRoutines","index","$","val","closeModal","openModal","userNum","render","bind","map","routine","code","title","mapDispatchToProps","dispatch","withRef"],"mappings":";;;;;;;;;;;;;;;;;;AAGA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AARA;;;IASMA,iB;;;AACF,+BAAYC,KAAZ,EAAmB;AAAA;;AAAA,mEACf,sBAAMA,KAAN,CADe;;AAEf,cAAKC,KAAL,GACI;AACIC,sBAAS,EADb;AAEIC,kBAAM;AAFV,SADJ;AAFe;AAOlB;;gCACDC,iB,gCAAoB;AAAA,YACTC,aADS,GACQ,KAAKL,KADb,CACTK,aADS;;AAEhB,YAAMC,OAAK,IAAX;AACAD,sBAAc,EAAd,EAAiB,UAAUE,GAAV,EAAe;AAC5BD,iBAAKE,QAAL,CAAc;AACVN,0BAASK;AADC,aAAd;AAGH,SAJD;AAKH,K;;gCACDE,yB,sCAA0BC,S,EAAW,CAEpC,C;;gCACDC,kB,+BAAmBC,K,EAAM;AACrBA,cAAMC,cAAN;AADqB,YAEdC,YAFc,GAEE,KAAKd,KAFP,CAEdc,YAFc;;AAGrB,YAAIC,QAAMC,EAAE,gCAAF,EAAoCC,GAApC,EAAV;AACA,YAAIf,WAAS,KAAKD,KAAL,CAAWC,QAAxB;AACAY,qBAAaZ,SAASa,KAAT,CAAb;AACA,aAAKG,UAAL;AACH,K;;gCAEDC,S,wBAAY;AACR,aAAKX,QAAL,CAAc;AACVL,kBAAM;AADI,SAAd;AAGH,K;;gCAEDe,U,yBAAa;AACT,aAAKV,QAAL,CAAc;AACVL,kBAAM,KADI;AAEViB,qBAAQ;AAFE,SAAd;AAIH,K;;gCACDC,M,qBAAS;AACL,YAAMnB,WAAS,KAAKD,KAAL,CAAWC,QAA1B;AACA,eACI;AAAA;AAAA,cAAK,WAAU,cAAf;AACI;AAAA;AAAA,kBAAO,MAAM,KAAKD,KAAL,CAAWE,IAAxB,EAA8B,UAAU,KAAxC;AACI;AAAA;AAAA,sBAAM,gBAAN,EAAiB,UAAU,KAAKQ,kBAAL,CAAwBW,IAAxB,CAA6B,IAA7B,CAA3B;AACI;AAAA,8CAAO,MAAP;AAAA;AACI;AAAA,kDAAO,KAAP;AAAA;AAAA;AAAA;AADJ,qBADJ;AAII;AAAA,8CAAO,IAAP;AAAA;AACKpB,iCAASqB,GAAT,CAAa,UAACC,OAAD,EAAUT,KAAV;AAAA,mCACV;AAAA;AAAA,kCAAK,WAAU,MAAf,EAAsB,KAAKA,KAA3B;AACI,yEAAO,MAAK,OAAZ,EAAoB,OAAOA,KAA3B,EAAkC,MAAK,UAAvC,GADJ;AAEKS,wCAAQC,IAFb;AAAA;AAEoBD,wCAAQE;AAF5B,6BADU;AAAA,yBAAb;AADL,qBAJJ;AAYI;AAAA,8CAAO,MAAP;AAAA;AACI;AAAA;AAAA,8BAAQ,SAAQ,SAAhB,EAA0B,MAAK,QAA/B;AAAA;AAAA,yBADJ;AAEI;AAAA;AAAA,8BAAQ,SAAQ,SAAhB,EAA0B,SAAS,KAAKR,UAAL,CAAgBI,IAAhB,CAAqB,IAArB,CAAnC;AAAA;AAAA;AAFJ;AAZJ;AADJ;AADJ,SADJ;AAuBH,K;;;;;AAEL,SAASK,kBAAT,CAA4BC,QAA5B,EAAsC;AAClC,WAAO,yDAAoCA,QAApC,CAAP;AACH;kBACc,yBAAQ,IAAR,EAAcD,kBAAd,EAAkC,IAAlC,EAAwC,EAACE,SAAS,IAAV,EAAxC,EAAyD9B,iBAAzD,C","file":"RoutinesListModal.js","sourcesContent":["/**\r\n * Created by qwr on 2017/9/15.\r\n */\r\nimport React, {Component, PropTypes} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {bindActionCreators} from 'redux'\r\nimport {routinesActions} from '../../actions'\r\nimport {Button, Modal, Form, FormControl, FormGroup, ControlLabel, Col} from \"react-bootstrap\"\r\nimport Alert from '../Alert'\r\nclass RoutinesListModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state =\r\n            {\r\n                routines:[],\r\n                show: false,\r\n            }\r\n    }\r\n    componentDidMount() {\r\n        const {queryRoutines} = this.props;\r\n        const that=this;\r\n        queryRoutines({},function (res) {\r\n            that.setState({\r\n                routines:res,\r\n            })\r\n        });\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n\r\n    }\r\n    _handleValidSubmit(event){\r\n        event.preventDefault();\r\n        const {pushRoutines} = this.props;\r\n        var index=$(\"input[name='routines']:checked\").val();\r\n        var routines=this.state.routines;\r\n        pushRoutines(routines[index]);\r\n        this.closeModal();\r\n    }\r\n\r\n    openModal() {\r\n        this.setState({\r\n            show: true\r\n        })\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({\r\n            show: false,\r\n            userNum:'',\r\n        })\r\n    }\r\n    render() {\r\n        const routines=this.state.routines;\r\n        return (\r\n            <div className=\"static-modal\">\r\n                <Modal show={this.state.show} backdrop={false}>\r\n                    <Form horizontal onSubmit={this._handleValidSubmit.bind(this)}>\r\n                        <Modal.Header>\r\n                            <Modal.Title>Pick a Routine</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            {routines.map((routine, index) =>\r\n                                <div className=\"m-t5\" key={index}>\r\n                                    <input type=\"radio\" value={index} name=\"routines\" />\r\n                                    {routine.code}:{routine.title}\r\n                                    </div>\r\n                            )}\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button bsStyle=\"primary\" type=\"submit\">Save</Button>\r\n                            <Button bsStyle=\"default\" onClick={this.closeModal.bind(this)}>Back</Button>\r\n                        </Modal.Footer>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(routinesActions, dispatch)\r\n}\r\nexport default connect(null, mapDispatchToProps, null, {withRef: true})(RoutinesListModal)"]}