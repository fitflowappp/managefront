{"version":3,"sources":["../../../src/components/draft/ContentBlock.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_get","get","_x","_x2","_x3","_again","_function","object","property","receiver","Function","desc","undefined","parent","value","getter","call","_classCallCheck","instance","TypeError","_inherits","subClass","superClass","constructor","__proto__","Immutable","require","findRangesImmutable","List","OrderedSet","Record","EMPTY_SET","defaultRecord","type","text","characterList","depth","ContentBlockRecord","ContentBlock","_ContentBlockRecord","apply","arguments","getKey","getType","getText","getCharacterList","getLength","getDepth","getInlineStyleAt","offset","character","getStyle","getEntityAt","getEntity","findStyleRanges","filterFn","callback","haveEqualStyle","findEntityRanges","haveEqualEntity","charA","charB","module","exports"],"mappings":"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","file":"ContentBlock.js","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ContentBlock\n * @typechecks\n * \n */\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Immutable = require('immutable');\n\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar List = Immutable.List;\nvar OrderedSet = Immutable.OrderedSet;\nvar Record = Immutable.Record;\n\nvar EMPTY_SET = OrderedSet();\n\nvar defaultRecord = {\n  key: '',\n  type: 'unstyled',\n  text: '',\n  characterList: List(),\n  depth: 0\n};\n\nvar ContentBlockRecord = Record(defaultRecord);\n\nvar ContentBlock = (function (_ContentBlockRecord) {\n  _inherits(ContentBlock, _ContentBlockRecord);\n\n  function ContentBlock() {\n    _classCallCheck(this, ContentBlock);\n\n    _get(Object.getPrototypeOf(ContentBlock.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(ContentBlock, [{\n    key: 'getKey',\n    value: function getKey() {\n      return this.get('key');\n    }\n  }, {\n    key: 'getType',\n    value: function getType() {\n      return this.get('type');\n    }\n  }, {\n    key: 'getText',\n    value: function getText() {\n      return this.get('text');\n    }\n  }, {\n    key: 'getCharacterList',\n    value: function getCharacterList() {\n      return this.get('characterList');\n    }\n  }, {\n    key: 'getLength',\n    value: function getLength() {\n      return this.getText().length;\n    }\n  }, {\n    key: 'getDepth',\n    value: function getDepth() {\n      return this.get('depth');\n    }\n  }, {\n    key: 'getInlineStyleAt',\n    value: function getInlineStyleAt(offset) {\n      var character = this.getCharacterList().get(offset);\n      return character ? character.getStyle() : EMPTY_SET;\n    }\n  }, {\n    key: 'getEntityAt',\n    value: function getEntityAt(offset) {\n      var character = this.getCharacterList().get(offset);\n      return character ? character.getEntity() : null;\n    }\n\n    /**\n     * Execute a callback for every contiguous range of styles within the block.\n     */\n  }, {\n    key: 'findStyleRanges',\n    value: function findStyleRanges(filterFn, callback) {\n      findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n    }\n\n    /**\n     * Execute a callback for every contiguous range of entities within the block.\n     */\n  }, {\n    key: 'findEntityRanges',\n    value: function findEntityRanges(filterFn, callback) {\n      findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n    }\n  }]);\n\n  return ContentBlock;\n})(ContentBlockRecord);\n\nfunction haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n}\n\nfunction haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n}\n\nmodule.exports = ContentBlock;"]}