{"version":3,"sources":["../../../src/components/draft/getDefaultKeyBinding.js"],"names":["KeyBindingUtil","require","Keys","UserAgent","isOSX","isPlatform","isWindows","shouldFixFirefoxMovement","isBrowser","hasCommandModifier","isCtrlKeyCommand","shouldRemoveWord","e","altKey","getZCommand","shiftKey","getDeleteCommand","getBackspaceCommand","getDefaultKeyBinding","keyCode","RETURN","DELETE","BACKSPACE","LEFT","RIGHT","module","exports"],"mappings":"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","file":"getDefaultKeyBinding.js","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getDefaultKeyBinding\n * @typechecks\n * \n */\n\n'use strict';\n\nvar KeyBindingUtil = require('./KeyBindingUtil');\nvar Keys = require('fbjs/lib/Keys');\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar isOSX = UserAgent.isPlatform('Mac OS X');\nvar isWindows = UserAgent.isPlatform('Windows');\n\n// Firefox on OSX had a bug resulting in navigation instead of cursor movement.\n// This bug was fixed in Firefox 29. Feature detection is virtually impossible\n// so we just check the version number. See #342765.\nvar shouldFixFirefoxMovement = isOSX && UserAgent.isBrowser('Firefox < 29');\n\nvar hasCommandModifier = KeyBindingUtil.hasCommandModifier;\nvar isCtrlKeyCommand = KeyBindingUtil.isCtrlKeyCommand;\n\nfunction shouldRemoveWord(e) {\n  return isOSX && e.altKey || isCtrlKeyCommand(e);\n}\n\n/**\n * Get the appropriate undo/redo command for a Z key command.\n */\nfunction getZCommand(e) {\n  if (hasCommandModifier(e)) {\n    return e.shiftKey ? 'redo' : 'undo';\n  }\n}\n\nfunction getDeleteCommand(e) {\n  // Allow default \"cut\" behavior for Windows on Shift + Delete.\n  if (isWindows && e.shiftKey) {\n    return null;\n  }\n  return shouldRemoveWord(e) ? 'delete-word' : 'delete';\n}\n\nfunction getBackspaceCommand(e) {\n  if (hasCommandModifier(e) && isOSX) {\n    return 'backspace-to-start-of-line';\n  }\n  return shouldRemoveWord(e) ? 'backspace-word' : 'backspace';\n}\n\n/**\n * Retrieve a bound key command for the given event.\n */\nfunction getDefaultKeyBinding(e) {\n  switch (e.keyCode) {\n    case 66:\n      // B\n      return hasCommandModifier(e) ? 'bold' : null;\n    case 68:\n      // D\n      return isCtrlKeyCommand(e) ? 'delete' : null;\n    case 72:\n      // H\n      return isCtrlKeyCommand(e) ? 'backspace' : null;\n    case 73:\n      // I\n      return hasCommandModifier(e) ? 'italic' : null;\n    case 74:\n      // J\n      return hasCommandModifier(e) ? 'code' : null;\n    case 75:\n      // K\n      return !isWindows && isCtrlKeyCommand(e) ? 'secondary-cut' : null;\n    case 77:\n      // M\n      return isCtrlKeyCommand(e) ? 'split-block' : null;\n    case 79:\n      // O\n      return isCtrlKeyCommand(e) ? 'split-block' : null;\n    case 84:\n      // T\n      return isOSX && isCtrlKeyCommand(e) ? 'transpose-characters' : null;\n    case 85:\n      // U\n      return hasCommandModifier(e) ? 'underline' : null;\n    case 87:\n      // W\n      return isOSX && isCtrlKeyCommand(e) ? 'backspace-word' : null;\n    case 89:\n      // Y\n      if (isCtrlKeyCommand(e)) {\n        return isWindows ? 'redo' : 'secondary-paste';\n      }\n      return null;\n    case 90:\n      // Z\n      return getZCommand(e) || null;\n    case Keys.RETURN:\n      return 'split-block';\n    case Keys.DELETE:\n      return getDeleteCommand(e);\n    case Keys.BACKSPACE:\n      return getBackspaceCommand(e);\n    // LEFT/RIGHT handlers serve as a workaround for a Firefox bug.\n    case Keys.LEFT:\n      return shouldFixFirefoxMovement && hasCommandModifier(e) ? 'move-selection-to-start-of-block' : null;\n    case Keys.RIGHT:\n      return shouldFixFirefoxMovement && hasCommandModifier(e) ? 'move-selection-to-end-of-block' : null;\n    default:\n      return null;\n  }\n}\n\nmodule.exports = getDefaultKeyBinding;"]}