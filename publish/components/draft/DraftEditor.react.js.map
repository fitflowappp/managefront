{"version":3,"sources":["../../../src/components/draft/DraftEditor.react.js"],"names":["_extends","target","i","arguments","length","source","key","Object","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_get","get","_x","_x2","_x3","_again","_function","object","property","receiver","Function","desc","undefined","parent","value","getter","_classCallCheck","instance","TypeError","_inherits","subClass","superClass","constructor","__proto__","DefaultDraftBlockRenderMap","require","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents","DraftEditorDragHandler","DraftEditorEditHandler","DraftEditorPlaceholder","EditorState","React","ReactDOM","Scroll","Style","UserAgent","cx","emptyFunction","generateRandomKey","getDefaultKeyBinding","nullthrows","getScrollPosition","isIE","isBrowser","allowSpellCheck","handlerMap","DraftEditor","_React$Component","blockRenderMap","blockRendererFn","thatReturnsNull","blockStyleFn","thatReturns","keyBindingFn","readOnly","spellCheck","stripPastedStyles","_this","_blockSelectEvents","_clipboard","_guardAgainstRender","_handler","_dragCount","_editorKey","_placeholderAccessibilityID","_onBeforeInput","_buildHandler","_onBlur","_onCharacterData","_onCompositionEnd","_onCompositionStart","_onCopy","_onCut","_onDragEnd","_onDragOver","_onDragStart","_onDrop","_onInput","_onFocus","_onKeyDown","_onKeyPress","_onKeyUp","_onMouseDown","_onMouseUp","_onPaste","_onSelect","focus","_focus","bind","blur","_blur","setMode","_setMode","exitCurrentMode","_exitCurrentMode","restoreEditorDOM","_restoreEditorDOM","setRenderGuard","_setRenderGuard","removeRenderGuard","_removeRenderGuard","setClipboard","_setClipboard","getClipboard","_getClipboard","getEditorKey","update","_update","onDragEnter","_onDragEnter","onDragLeave","_onDragLeave","state","containerKey","eventName","_this2","e","method","_showPlaceholder","placeholder","editorState","isInCompositionMode","getCurrentContent","hasText","_renderPlaceholder","createElement","text","textAlignment","accessibilityID","render","_props","rootClass","hasContent","contentStyle","outline","whiteSpace","wordWrap","className","ref","ariaActiveDescendantID","ariaAutoComplete","ariaExpanded","ariaHasPopup","ariaLabel","ariaOwneeID","contentEditable","webDriverTestID","onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragOver","onDragStart","onDrop","onFocus","onInput","onKeyDown","onKeyPress","onKeyUp","onMouseUp","onPaste","onSelect","role","style","suppressContentEditableWarning","tabIndex","customStyleMap","editorKey","componentDidMount","document","execCommand","componentWillUpdate","componentDidUpdate","scrollPosition","alreadyHasFocus","getSelection","getHasFocus","editorNode","findDOMNode","refs","editor","scrollParent","getScrollParent","_ref","x","y","window","scrollTo","setTop","forceSelection","mode","_this3","setState","clipboard","onChange","Component","module","exports"],"mappings":"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","file":"DraftEditor.react.js","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditor.react\n * @typechecks\n * \n */\n\n'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DefaultDraftBlockRenderMap = require('./DefaultDraftBlockRenderMap');\nvar DefaultDraftInlineStyle = require('./DefaultDraftInlineStyle');\nvar DraftEditorCompositionHandler = require('./DraftEditorCompositionHandler');\nvar DraftEditorContents = require('./DraftEditorContents.react');\nvar DraftEditorDragHandler = require('./DraftEditorDragHandler');\nvar DraftEditorEditHandler = require('./DraftEditorEditHandler');\nvar DraftEditorPlaceholder = require('./DraftEditorPlaceholder.react');\nvar EditorState = require('./EditorState');\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Scroll = require('fbjs/lib/Scroll');\nvar Style = require('fbjs/lib/Style');\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar cx = require('fbjs/lib/cx');\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar generateRandomKey = require('./generateRandomKey');\nvar getDefaultKeyBinding = require('./getDefaultKeyBinding');\nvar nullthrows = require('fbjs/lib/nullthrows');\nvar getScrollPosition = require('fbjs/lib/getScrollPosition');\n\nvar isIE = UserAgent.isBrowser('IE');\n\n// IE does not support the `input` event on contentEditable, so we can't\n// observe spellcheck behavior.\nvar allowSpellCheck = !isIE;\n\n// Define a set of handler objects to correspond to each possible `mode`\n// of editor behavior.\nvar handlerMap = {\n  'edit': DraftEditorEditHandler,\n  'composite': DraftEditorCompositionHandler,\n  'drag': DraftEditorDragHandler,\n  'cut': null,\n  'render': null\n};\n\n/**\n * `DraftEditor` is the root editor component. It composes a `contentEditable`\n * div, and provides a wide variety of useful function props for managing the\n * state of the editor. See `DraftEditorProps` for details.\n */\n\nvar DraftEditor = (function (_React$Component) {\n  _inherits(DraftEditor, _React$Component);\n\n  _createClass(DraftEditor, null, [{\n    key: 'defaultProps',\n    value: {\n      blockRenderMap: DefaultDraftBlockRenderMap,\n      blockRendererFn: emptyFunction.thatReturnsNull,\n      blockStyleFn: emptyFunction.thatReturns(''),\n      keyBindingFn: getDefaultKeyBinding,\n      readOnly: false,\n      spellCheck: false,\n      stripPastedStyles: false\n    },\n    enumerable: true\n  }]);\n\n  function DraftEditor(props) {\n    var _this = this;\n\n    _classCallCheck(this, DraftEditor);\n\n    _get(Object.getPrototypeOf(DraftEditor.prototype), 'constructor', this).call(this, props);\n\n    this._blockSelectEvents = false;\n    this._clipboard = null;\n    this._guardAgainstRender = false;\n    this._handler = null;\n    this._dragCount = 0;\n    this._editorKey = generateRandomKey();\n    this._placeholderAccessibilityID = 'placeholder-' + this._editorKey;\n\n    this._onBeforeInput = this._buildHandler('onBeforeInput');\n    this._onBlur = this._buildHandler('onBlur');\n    this._onCharacterData = this._buildHandler('onCharacterData');\n    this._onCompositionEnd = this._buildHandler('onCompositionEnd');\n    this._onCompositionStart = this._buildHandler('onCompositionStart');\n    this._onCopy = this._buildHandler('onCopy');\n    this._onCut = this._buildHandler('onCut');\n    this._onDragEnd = this._buildHandler('onDragEnd');\n    this._onDragOver = this._buildHandler('onDragOver');\n    this._onDragStart = this._buildHandler('onDragStart');\n    this._onDrop = this._buildHandler('onDrop');\n    this._onInput = this._buildHandler('onInput');\n    this._onFocus = this._buildHandler('onFocus');\n    this._onKeyDown = this._buildHandler('onKeyDown');\n    this._onKeyPress = this._buildHandler('onKeyPress');\n    this._onKeyUp = this._buildHandler('onKeyUp');\n    this._onMouseDown = this._buildHandler('onMouseDown');\n    this._onMouseUp = this._buildHandler('onMouseUp');\n    this._onPaste = this._buildHandler('onPaste');\n    this._onSelect = this._buildHandler('onSelect');\n\n    // Manual binding for public and internal methods.\n    this.focus = this._focus.bind(this);\n    this.blur = this._blur.bind(this);\n    this.setMode = this._setMode.bind(this);\n    this.exitCurrentMode = this._exitCurrentMode.bind(this);\n    this.restoreEditorDOM = this._restoreEditorDOM.bind(this);\n    this.setRenderGuard = this._setRenderGuard.bind(this);\n    this.removeRenderGuard = this._removeRenderGuard.bind(this);\n    this.setClipboard = this._setClipboard.bind(this);\n    this.getClipboard = this._getClipboard.bind(this);\n    this.getEditorKey = function () {\n      return _this._editorKey;\n    };\n    this.update = this._update.bind(this);\n    this.onDragEnter = this._onDragEnter.bind(this);\n    this.onDragLeave = this._onDragLeave.bind(this);\n\n    // See `_restoreEditorDOM()`.\n    this.state = { containerKey: 0 };\n  }\n\n  /**\n   * Build a method that will pass the event to the specified handler method.\n   * This allows us to look up the correct handler function for the current\n   * editor mode, if any has been specified.\n   */\n\n  _createClass(DraftEditor, [{\n    key: '_buildHandler',\n    value: function _buildHandler(eventName) {\n      var _this2 = this;\n\n      return function (e) {\n        if (!_this2.props.readOnly) {\n          var method = _this2._handler && _this2._handler[eventName];\n          method && method.call(_this2, e);\n        }\n      };\n    }\n  }, {\n    key: '_showPlaceholder',\n    value: function _showPlaceholder() {\n      return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();\n    }\n  }, {\n    key: '_renderPlaceholder',\n    value: function _renderPlaceholder() {\n      if (this._showPlaceholder()) {\n        return React.createElement(DraftEditorPlaceholder, {\n          text: nullthrows(this.props.placeholder),\n          editorState: this.props.editorState,\n          textAlignment: this.props.textAlignment,\n          accessibilityID: this._placeholderAccessibilityID\n        });\n      }\n      return null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props;\n      var readOnly = _props.readOnly;\n      var textAlignment = _props.textAlignment;\n\n      var rootClass = cx({\n        'DraftEditor/root': true,\n        'DraftEditor/alignLeft': textAlignment === 'left',\n        'DraftEditor/alignRight': textAlignment === 'right',\n        'DraftEditor/alignCenter': textAlignment === 'center'\n      });\n      var hasContent = this.props.editorState.getCurrentContent().hasText();\n\n      var contentStyle = {\n        outline: 'none',\n        whiteSpace: 'pre-wrap',\n        wordWrap: 'break-word'\n      };\n\n      return React.createElement(\n        'div',\n        { className: rootClass },\n        this._renderPlaceholder(),\n        React.createElement(\n          'div',\n          {\n            className: cx('DraftEditor/editorContainer'),\n            key: 'editor' + this.state.containerKey,\n            ref: 'editorContainer' },\n          React.createElement(\n            'div',\n            {\n              'aria-activedescendant': readOnly ? null : this.props.ariaActiveDescendantID,\n              'aria-autocomplete': readOnly ? null : this.props.ariaAutoComplete,\n              'aria-describedby': this._showPlaceholder() ? this._placeholderAccessibilityID : null,\n              'aria-expanded': readOnly ? null : this.props.ariaExpanded,\n              'aria-haspopup': readOnly ? null : this.props.ariaHasPopup,\n              'aria-label': this.props.ariaLabel,\n              'aria-owns': readOnly ? null : this.props.ariaOwneeID,\n              className: cx('public/DraftEditor/content'),\n              contentEditable: !readOnly,\n              'data-testid': this.props.webDriverTestID,\n              onBeforeInput: this._onBeforeInput,\n              onBlur: this._onBlur,\n              onCompositionEnd: this._onCompositionEnd,\n              onCompositionStart: this._onCompositionStart,\n              onCopy: this._onCopy,\n              onCut: this._onCut,\n              onDragEnd: this._onDragEnd,\n              onDragEnter: this.onDragEnter,\n              onDragLeave: this.onDragLeave,\n              onDragOver: this._onDragOver,\n              onDragStart: this._onDragStart,\n              onDrop: this._onDrop,\n              onFocus: this._onFocus,\n              onInput: this._onInput,\n              onKeyDown: this._onKeyDown,\n              onKeyPress: this._onKeyPress,\n              onKeyUp: this._onKeyUp,\n              onMouseUp: this._onMouseUp,\n              onPaste: this._onPaste,\n              onSelect: this._onSelect,\n              ref: 'editor',\n              role: readOnly ? null : this.props.role || 'textbox',\n              spellCheck: allowSpellCheck && this.props.spellCheck,\n              style: contentStyle,\n              suppressContentEditableWarning: true,\n              tabIndex: this.props.tabIndex },\n            React.createElement(DraftEditorContents, {\n              blockRenderMap: this.props.blockRenderMap,\n              blockRendererFn: this.props.blockRendererFn,\n              blockStyleFn: this.props.blockStyleFn,\n              customStyleMap: _extends({}, DefaultDraftInlineStyle, this.props.customStyleMap),\n              editorKey: this._editorKey,\n              editorState: this.props.editorState\n            })\n          )\n        )\n      );\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setMode('edit');\n\n      /**\n       * IE has a hardcoded \"feature\" that attempts to convert link text into\n       * anchors in contentEditable DOM. This breaks the editor's expectations of\n       * the DOM, and control is lost. Disable it to make IE behave.\n       * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/\n       * ie9-beta-minor-change-list.aspx\n       */\n      if (isIE) {\n        document.execCommand('AutoUrlDetect', false, false);\n      }\n    }\n\n    /**\n     * Prevent selection events from affecting the current editor state. This\n     * is mostly intended to defend against IE, which fires off `selectionchange`\n     * events regardless of whether the selection is set via the browser or\n     * programmatically. We only care about selection events that occur because\n     * of browser interaction, not re-renders and forced selections.\n     */\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate() {\n      this._blockSelectEvents = true;\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this._blockSelectEvents = false;\n    }\n\n    /**\n     * Used via `this.focus()`.\n     *\n     * Force focus back onto the editor node.\n     *\n     * Forcing focus causes the browser to scroll to the top of the editor, which\n     * may be undesirable when the editor is taller than the viewport. To solve\n     * this, either use a specified scroll position (in cases like `cut` behavior\n     * where it should be restored to a known position) or store the current\n     * scroll state and put it back in place after focus has been forced.\n     */\n  }, {\n    key: '_focus',\n    value: function _focus(scrollPosition) {\n      var editorState = this.props.editorState;\n\n      var alreadyHasFocus = editorState.getSelection().getHasFocus();\n      var editorNode = ReactDOM.findDOMNode(this.refs.editor);\n\n      var scrollParent = Style.getScrollParent(editorNode);\n\n      var _ref = scrollPosition || getScrollPosition(scrollParent);\n\n      var x = _ref.x;\n      var y = _ref.y;\n\n      editorNode.focus();\n      if (scrollParent === window) {\n        window.scrollTo(x, y);\n      } else {\n        Scroll.setTop(scrollParent, y);\n      }\n\n      // On Chrome and Safari, calling focus on contenteditable focuses the\n      // cursor at the first character. This is something you don't expect when\n      // you're clicking on an input element but not directly on a character.\n      // Put the cursor back where it was before the blur.\n      if (!alreadyHasFocus) {\n        this.update(EditorState.forceSelection(editorState, editorState.getSelection()));\n      }\n    }\n  }, {\n    key: '_blur',\n    value: function _blur() {\n      ReactDOM.findDOMNode(this.refs.editor).blur();\n    }\n\n    /**\n     * Used via `this.setMode(...)`.\n     *\n     * Set the behavior mode for the editor component. This switches the current\n     * handler module to ensure that DOM events are managed appropriately for\n     * the active mode.\n     */\n  }, {\n    key: '_setMode',\n    value: function _setMode(mode) {\n      this._handler = handlerMap[mode];\n    }\n  }, {\n    key: '_exitCurrentMode',\n    value: function _exitCurrentMode() {\n      this.setMode('edit');\n    }\n\n    /**\n     * Used via `this.restoreEditorDOM()`.\n     *\n     * Force a complete re-render of the editor based on the current EditorState.\n     * This is useful when we know we are going to lose control of the DOM\n     * state (cut command, IME) and we want to make sure that reconciliation\n     * occurs on a version of the DOM that is synchronized with our EditorState.\n     */\n  }, {\n    key: '_restoreEditorDOM',\n    value: function _restoreEditorDOM(scrollPosition) {\n      var _this3 = this;\n\n      this.setState({ containerKey: this.state.containerKey + 1 }, function () {\n        _this3._focus(scrollPosition);\n      });\n    }\n\n    /**\n     * Guard against rendering. Intended for use when we need to manually\n     * reset editor contents, to ensure that no outside influences lead to\n     * React reconciliation when we are in an uncertain state.\n     */\n  }, {\n    key: '_setRenderGuard',\n    value: function _setRenderGuard() {\n      this._guardAgainstRender = true;\n    }\n  }, {\n    key: '_removeRenderGuard',\n    value: function _removeRenderGuard() {\n      this._guardAgainstRender = false;\n    }\n\n    /**\n     * Used via `this.setClipboard(...)`.\n     *\n     * Set the clipboard state for a cut/copy event.\n     */\n  }, {\n    key: '_setClipboard',\n    value: function _setClipboard(clipboard) {\n      this._clipboard = clipboard;\n    }\n\n    /**\n     * Used via `this.getClipboard()`.\n     *\n     * Retrieve the clipboard state for a cut/copy event.\n     */\n  }, {\n    key: '_getClipboard',\n    value: function _getClipboard() {\n      return this._clipboard;\n    }\n\n    /**\n     * Used via `this.update(...)`.\n     *\n     * Propagate a new `EditorState` object to higher-level components. This is\n     * the method by which event handlers inform the `DraftEditor` component of\n     * state changes. A component that composes a `DraftEditor` **must** provide\n     * an `onChange` prop to receive state updates passed along from this\n     * function.\n     */\n  }, {\n    key: '_update',\n    value: function _update(editorState) {\n      this.props.onChange(editorState);\n    }\n\n    /**\n     * Used in conjunction with `_onDragLeave()`, by counting the number of times\n     * a dragged element enters and leaves the editor (or any of its children),\n     * to determine when the dragged element absolutely leaves the editor.\n     */\n  }, {\n    key: '_onDragEnter',\n    value: function _onDragEnter() {\n      this._dragCount++;\n    }\n\n    /**\n     * See `_onDragEnter()`.\n     */\n  }, {\n    key: '_onDragLeave',\n    value: function _onDragLeave() {\n      this._dragCount--;\n      if (this._dragCount === 0) {\n        this.exitCurrentMode();\n      }\n    }\n  }]);\n\n  return DraftEditor;\n})(React.Component);\n\nmodule.exports = DraftEditor;\n\n/**\n * Define proxies that can route events to the current handler.\n */"]}